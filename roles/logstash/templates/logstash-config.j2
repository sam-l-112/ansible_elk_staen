### NOTICE: This file is auto-generated by ansible, DO NOT edit this file manually!

input {
{% if item.type == "beats" %}
	beats {
		port => "{{ item.port }}"
		host => "0.0.0.0"
	}
{% elif item.type == "syslog" %}
	syslog {
		port => "{{ item.port }}"
		timezone => "Asia/Taipei"
		host => "0.0.0.0"
	}
{% endif %}
}

filter {
{% if item.filter is defined %}
{{ item.filter }}
{% endif %}
}

output {
	elasticsearch {
		hosts => ["{{ groups[syslog_global.cluster_group] | map('extract', hostvars, ['inventory_hostname']) | join(':9200","') }}:9200"]
		index => "logstash-{{ item.name }}-{{ item.port }}-%{+xxxx.ww}"
	}

{% if logstash.log_forwarding is defined %}
{{ logstash.log_forwarding }}
{% endif %}
}
